$("#task_<%= @task.id %>").remove();
$("#task_<%= @next.id %>").replaceWith("<%= j (render partial: 'tasks/task', locals: {parent: @taskable, task: @task, child: false}) %>");
$("<%= j (render partial: 'tasks/task', locals: {parent: @taskable, task: @next, child: false}) %>").insertAfter("#task_<%= @above_task.id %>");


/*
var next_visible = $("#task_<%= @task.id %>").prevAll(':visible:first');
var tab_all = $("ul#task_tabs li.active").text().search("All");
callmeman();
function callmeman(){
  if(tab_all >= 0) {

    $("#task_<%= @task.id %>").remove();
    $("#task_<%= @next.id %>").replaceWith("<%= j (render partial: 'tasks/task', locals: {parent: @taskable, task: @task, child: false}) %>");
    $("<%= j (render partial: 'tasks/task', locals: {parent: @taskable, task: @next, child: false}) %>").insertAfter("#task_<%= @task.id %>"); 
  }
  else {
      
    $("#task_<%= @task.id %>").remove();
    $("#task_<%= @next.id %>").replaceWith("<%= j (render partial: 'tasks/task', locals: {parent: @taskable, task: @task, child: false}) %>");
    $("<%= j (render partial: 'tasks/task', locals: {parent: @taskable, task: @next, child: false}) %>").insertAfter("#task_<%= @above_task.id %>");
  }
}
*/